<!--<div data-include-path="../layout/header.html" id="headers"></div>-->

<main class="main member">
    <div class="join">
        <!-- <h1>회원가입</h1> -->
		<form name="form1" method="post" target="sysfrm">
		<input type="hidden" name="is_use_userid" value="N" />
		<input type="hidden" name="gender" value="{{nice_iInfo.sgendercode_conv}}" />
        <div class="join_wrap">
            <div class="join_box __cert">
                <label for="mobile">휴대폰 번호</label>
                <input type="text" id="mobile" value="휴대폰 인증 버튼을 눌러주세요." name="mobile" readonly>
                <!-- <button class="btn btn_cert" onclick="javascript:changeCheck();">휴대폰 인증</button> -->
				<iframe src="../main/checkplus_sms.jsp" id="plusArea" name="plusArea" frameborder="0" scrolling="no"></iframe>
            </div>

            <div class="join_box">
                <label for="user_name">이름</label>
                <input type="text" name="user_name" id="user_name" value="{{nice_iInfo.sname}}" readonly />
            </div>
            <div class="join_box">
                <label for="birthday_conv">생년월일</label>
                <input type="text" id="birthday_conv" name="birthday_conv" value="{{birthday_conv}}" readonly />
            </div>
            <div class="join_box">
                <label for="user_id">아이디 (6자리 이상)</label>
                <input type="text" name="user_id" id="user_id" onkeyup="javascript:checkUserid();" style="ime-mode:disabled;" />
                <button id="b_reset_userid" class="btn btn_reset" onclick="javascript:resetUserid();" style="display:none;"><img src="../assets/img/btn_delete.svg" alt=""></button>
            </div>
            <p id="alreadyUseridArea" class="error"></p>
            <div class="join_box">
                <label for="user_passwd">비밀번호 (영문, 숫자 조합 8자리 이상)</label>
                <input type="password" name="user_passwd" id="user_passwd" onkeyup="javascript:checkPassword1();">
                <button class="btn btn_toggle"><img src="../assets/img/ico_toggle_pw.png" alt=""></button>
            </div>
			<p id="errorPassword1" class="error"></p>
    
            <div class="join_box">
                <label for="l6">비밀번호 확인</label>
                <input type="password" name="user_passwd2" id="user_passwd2" onkeyup="javascript:checkCapsLock(event);checkPassword2();">
                <button class="btn btn_toggle"><img src="../assets/img/ico_toggle_pw_hide.png" alt=""></button>
            </div>
            <p id="l_capslock" class="error" style="display:none;">Caps Lock이 켜져 있습니다.</p>
            <p id="errorPassword2" class="error"></p>

            <div class="join_box">
                <label for="email">이메일</label>
                <input type="text" id="email" name="email" onkeyup="javascript:checkEmail();">
            </div>
            <p id="errorEmail" class="error"></p>

            <div class="agree_box">
                <div>
                    <input type="checkbox" class="checkbox" id="m_agree_yn" name="m_agree_yn">
                    <label for="m_agree_yn">[필수] <a href="../customer/policy.jsp">이용약관</a>, <a href="../customer/privacy.jsp">개인정보 수집 및 이용</a> 동의</label>
                </div>
                <div>
                    <input type="checkbox" class="checkbox" id="m_agree_yn2" name="m_agree_yn2">
                    <label for="m_agree_yn2">학습 정보 및 이벤트 SMS 수신 동의</label>
                </div>
            </div>
            <!--// agree_box -->
            
            <button type="submit" class="btn btn_join">가입하기</button>
        </div>
        <!--// join_wrap -->
		</form>
		{{form_script}}
    </div>
</main>

<script language="javascript">
	function checkUserid() {
		var f = document.forms['form1'];
		var v = f['user_id'].value;
		var userid_pattern = new RegExp('[^a-zA-Z0-9]'); //아이디 패턴검사 정규식
		if(v != "") {
			//아이디 값이 없거나 아이디가 유효한게 아니면
			if(!v.length || userid_pattern.test(v)) {
				$("#alreadyUseridArea").text("한글아이디는 사용이 불가능합니다.");
				f['user_id'].value = v.replace(/[^a-zA-Z0-9]/g, '').trim();
				return false;
			}
			call("call_is_userid.jsp?v=" + v, "alreadyUseridArea");
		}
	}
	function resetUserid() {
		var f = document.forms['form1'];
		var v = f['user_id'].value;
		if(v != "") f['user_id'].value = ""; 
		if(f['user_id'].value = "") {
			$("#b_reset_userid").hide(); 
			$("#alreadyUseridArea").text("");
			return false;
		}
	}
	function id_check() {
		var f = document.forms['form1'];
		var f2 = document.forms['form2'];
		if(f['user_id'].value == "") {
		} else {
			f2['id_overlappingCheck'].value = f['user_id'].value;
		}
	}
	function checkPassword1() {
		var f = document.forms['form1'];
		var password1 = f['user_passwd'].value; 
		var chk_num = password1.search(/[0-9]/g); 
		var chk_eng = password1.search(/[a-z]/ig);

		f['user_passwd2'].value = ""; 
		if(password1 == '' || password1.length < 8) {
			$("#errorPassword1").text("영문, 숫자 조합 8자리 이상으로 설정해 주세요.");
			return false;
		} else {
			if(chk_num < 0 || chk_eng < 0) { 
				$("#errorPassword1").text("영문 및 숫자를 혼용하여 설정해 주세요.");
			} else {
				$("#errorPassword1").text("");
			}			
		}
	}
	
	function checkPassword2() {
		var f = document.forms['form1'];
		var password1 = f['user_passwd'].value;
		var password2 = f['user_passwd2'].value;
		if(password1 == password2) {
			$("#errorPassword2").text("");
		} else {
			if(password2 != '') {
				$("#errorPassword2").text("비밀번호가 일치하지 않습니다.");
				return false;		
			} else {
				$("#errorPassword2").text("");
			}
		}
		return false;
	}
	function checkEmail() {
		var f = document.forms['form1'];
		var email = f['email'].value;
		if(email == '' || email == 'undefined') return false;
		if(!email_check(email)) {
			$("#errorEmail").text("이메일 형식이 아닙니다.");
			return false;
		} else {
			$("#errorEmail").text("");
		}
		return false;
	}

	function checkCapsLock(e) {
		if(e.getModifierState('CapsLock')){
			$("#l_capslock").fadeIn();
		} else{
			$("#l_capslock").hide();
		}
	}
	function allCheck(val) {
		var f1 = document.forms['form1'];
		if(val == 'Y') {
			f1['sms'].checked = true;
			f1['mailing'].checked = true;
		} else if(val == 'N') {
			f1['sms'].checked = false;
			f1['mailing'].checked = false;
		}
	}
	function autoHypenPhone1() {
		var f = document.forms['form1'];
		event = event || window.event;
		var hpstr = f['mobile'].value;
		hpstr = hpstr.replace(/[^0-9]/g, '').trim();
		var tmp = '';
		if(hpstr.length < 4) {
			f['mobile'].value = hpstr;
		} else if(hpstr.length < 7) {
			tmp += hpstr.substr(0, 3);
			tmp += '-';
			tmp += hpstr.substr(3);
			f['mobile'].value = tmp;
		} else if(hpstr.length < 11) {
			tmp += hpstr.substr(0, 3);
			tmp += '-';
			tmp += hpstr.substr(3, 3);
			tmp += '-';
			tmp += hpstr.substr(6);
			f['mobile'].value = tmp;
		} else {				
			tmp += hpstr.substr(0, 3);
			tmp += '-';
			tmp += hpstr.substr(3, 4);
			tmp += '-';
			tmp += hpstr.substr(7);
			f['mobile'].value = tmp;
		}
	}
</script>


<!--<div data-include-path="../layout/footer.html" id="footers"></div>-->